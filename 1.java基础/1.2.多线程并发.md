# 1.2.线程并发包

问题思考：

1. 为什么要用到并发编程？

   > 并发编程的形式可以将多核CPU的计算能力发挥到极致，性能得到提升。

2. 并发编程的缺点

   > 1. 各个线程其实不是同时进行的，是有cpu分配时间片不断切换线程工作，只是因为时间非常短（时间片一般是几十毫秒），所以才让我们觉得多个线程是同时执行的。而这种频繁的上下文切换，非常损耗性能（通常减少上下文切换可以采用无锁并发编程，CAS算法，使用最少的线程和使用协程）。
   >
   > 2. 大大增加编程的复杂性，容易造成死锁。
   >
   >    通常有如下方式避免死锁：
   >
   >    ```
   >    ① 避免一个线程同时获得多个锁；
   >    ② 避免一个编程在锁内部占有多个资源，尽量保证每个锁只占用一个资源；
   >    ③ 尝试使用定时锁，使用lock.tryLock(timeOut), 当超时等待时当前线程不会阻塞；
   >    ④ 对于数据库锁，加锁和解锁必须在一个数据库连接里，否则会出现解锁失败的情况。
   >    ```
   >
   >    ​

### 线程安全的容器

> 线程安全的理解，为什么安全，怎么做到安全？
>
> 为什么

